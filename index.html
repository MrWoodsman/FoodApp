<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>FoodApp</title>
</head>
<body>
<!-- VIEW - FoodGrid -->
<section id="BodyFoodGridCard">
    <!-- NAWIGACJA STRONY UP -->
    <nav><h3>Food List</h3></nav>
    <!-- LISTA DAN -->
    <section id="FoodGrid"></section>
</section>
<!-- VIEW - FoodCard -->
<section id="BodyFoodCard">
    <!-- BACK BUTTON -->
    <a href="#" id="back_btn" class="previous round" onclick="BackToGrid()"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Ic_arrow_back_48px.svg/1024px-Ic_arrow_back_48px.svg.png" alt=""></a>
    <!-- TOP FOOD IMAGE -->
    <div id="top_background"></div>
    <!-- MAIN CARD -->
    <div id="bottom_card">
        <div>
            <!-- NAZWA DANIA / KRAJ DANIA -->
            <h2><span id="foodName">Nazwa</span> <span id="foodCountry">Kraj</span></h2>
            <!-- OPIS DANIA -->
            <p id="foodDescription" class=""><span class="tab"></span>OPIS</p>
        </div>
    </div>
</section>
<!--  -->
</body>
    <script src="index.js"></script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-app.js";
        import { getDatabase, ref, onChildAdded, onChildChanged, onChildRemoved } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-database.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyA71QuzTtYpfSDqzFHLshI6wUGQ8LpJseI",
          authDomain: "myapp-44c66.firebaseapp.com",
          databaseURL: "https://myapp-44c66-default-rtdb.europe-west1.firebasedatabase.app",
          projectId: "myapp-44c66",
          storageBucket: "myapp-44c66.appspot.com",
          messagingSenderId: "359396357809",
          appId: "1:359396357809:web:c1690eb1d56dd5041d9490",
          measurementId: "G-GJNX177MC2"
        };
        const app = initializeApp(firebaseConfig);
        // Create a new post reference with an auto-generated id
        const db = getDatabase();
        const commentsRef = ref(db, 'food');
        // Dodawanie Kart na poczÄ…tku
        onChildAdded(commentsRef, (data) => {
            CreateCard(data.val()['ID'],data.val()['Name'],data.val()['Country'],data.val()['ImgUrl'],data.val()['Description'])
            // console.log(data.val()['Name'])
        });

        // Aktualizacja Danych W czasie rzeczyswistym
        onChildChanged(commentsRef, (data) => {
            console.log('Zaktualizowano: '+data.val()['Name'])
        });
        
    </script>
</html>

<!-- var rootRef = firebase.database.ref();
var urlRef = rootRef.child("user1/DAA Notes/URL");
urlRef.once("value", function(snapshot) {
  snapshot.forEach(function(child) {
    console.log(child.key+": "+child.val());
  });
}); -->